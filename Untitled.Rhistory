require (foreign)
Guns<-read.dta("/Users/jingjingliu/Desktop/SUMMER 2018/ECONOMETRICS/project/Guns.dta")
names(Guns)
(OLS1<-lm(log(vio)~shall,data=Guns))
(OLS2<-lm(log(vio)~shall+incarc_rate+density+avginc+pop+pb1064+pw1064+pm1029,data=Guns))
summary(OLS1)
summary(OLS2)
require(plm)
Guns.p<-pdata.frame(Guns, index=c("stateid","year"))
(FEentity<-plm(formula=log(vio)~shall+incarc_rate+density+avginc+pop+pb1064+pw1064+pm1029,data=Guns.p,model="within"))
summary(FEentity)
(FEtime<-plm(formula=log(vio)~shall+incarc_rate+density+avginc+pop+pb1064+pw1064+pm1029,data=Guns.p,model="within", effect="time"))
(FEboth<-plm(formula=log(vio)~shall+incarc_rate+density+avginc+pop+pb1064+pw1064+pm1029,data=Guns.p,model="within",effect="twoways"))
(OLS3<-lm(log(rob)~shall,data=Guns))
(OLS4<-lm(log(rob)~shall+incarc_rate+density+avginc+pop+pb1064+pw1064+pm1029,data=Guns))
(FEentityr<-plm(formula=log(rob)~shall+incarc_rate+density+avginc+pop+pb1064+pw1064+pm1029,data=Guns.p,model="within"))
(FEbothr<-plm(formula=log(rob)~shall+incarc_rate+density+avginc+pop+pb1064+pw1064+pm1029,data=Guns.p,model="within",effect="twoways"))
(OLS5<-lm(log(mur)~shall,data=Guns))
(OLS6<-lm(log(mur)~shall+incarc_rate+density+avginc+pop+pb1064+pw1064+pm1029,data=Guns))
(FEentitym<-plm(formula=log(mur)~shall+incarc_rate+density+avginc+pop+pb1064+pw1064+pm1029,data=Guns.p,model="within"))
(FEbothm<-plm(formula=log(mur)~shall+incarc_rate+density+avginc+pop+pb1064+pw1064+pm1029,data=Guns.p,model="within",effect="twoways"))
require(stargazer)
stargazer(OLS1, OLS2, FEentity, FEboth, title="ln(vio)", type="text", digits=4)
stargazer(OLS3, OLS4, FEentityr, FEbothr, title="ln(rob)", type="text", digits=4)
stargazer(OLS5, OLS6, FEentitym, FEbothm, title="ln(mur)", type="text", digits=4)
savehistory("~/Desktop/SUMMER 2018/ECONOMETRICS/project/guns/HW-Guns/code.R/Untitled.Rhistory")
